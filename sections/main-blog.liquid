<div class="blog">
  <div class="container">
    <header class="blog__header">
      <h1 class="blog__title">{{ blog.title }}</h1>
      {% if blog.description != blank %}
        <p class="blog__description">{{ blog.description }}</p>
      {% endif %}
    </header>

    <div class="blog__grid">
      {% for article in blog.articles %}
        <article class="blog__article">
          {% if article.image %}
            <div class="blog__article-image">
              <img src="{{ article.image | img_url: '400x300' }}" alt="{{ article.title }}">
            </div>
          {% endif %}
          
          <div class="blog__article-content">
            <h2 class="blog__article-title">
              <a href="{{ article.url }}">{{ article.title }}</a>
            </h2>
            
            <div class="blog__article-meta">
              <time datetime="{{ article.created_at | date: '%Y-%m-%d' }}">
                {{ article.created_at | date: '%B %d, %Y' }}
              </time>
            </div>
            
            <div class="blog__article-excerpt">
              {{ article.excerpt | strip_html | truncate: 150 }}
            </div>
            
            <a href="{{ article.url }}" class="blog__article-link">
              Read more
            </a>
          </div>
        </article>
      {% endfor %}
    </div>

    {% if paginate.pages > 1 %}
      {% render 'pagination', paginate: paginate %}
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Blog",
  "class": "section-blog",
  "settings": [
    {
      "type": "range",
      "id": "articles_per_page",
      "label": "Articles per page",
      "min": 6,
      "max": 24,
      "step": 2,
      "default": 12
    },
    {
      "type": "checkbox",
      "id": "show_excerpts",
      "label": "Show excerpts",
      "default": true
    }
  ]
}
{% endschema %}