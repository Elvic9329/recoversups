{% comment %}
  Icon Sprite System - RecoverSups Theme
  
  Centralized SVG icon system for performance optimization
  Reduces DOM size and improves loading times
  
  Parameters:
    - name: Icon name (required)
    - size: Icon size in pixels (default: 24)
    - class: Additional CSS classes
    - title: Accessibility title
  
  Usage:
    {% render 'icon-sprite', name: 'heart', size: 20 %}
    {% render 'icon-sprite', name: 'cart', class: 'text-primary' %}
{% endcomment %}

{% liquid
  assign icon_name = name | default: 'default'
  assign icon_size = size | default: 24
  assign icon_class = class | default: ''
  assign icon_title = title | default: icon_name
%}

<svg width="{{ icon_size }}" 
     height="{{ icon_size }}" 
     class="icon icon--{{ icon_name }} {{ icon_class }}"
     {% if icon_title %}aria-label="{{ icon_title }}"{% else %}aria-hidden="true"{% endif %}
     focusable="false">
  <use href="#icon-{{ icon_name }}"></use>
</svg>

{% comment %}
  SVG Symbol Definitions
  These should be loaded once per page, ideally in the layout/theme.liquid
{% endcomment %}

{% if section.id == 'icon-definitions' or request.page_type == 'index' %}
<svg style="display: none;" aria-hidden="true">
  <defs>
    
    <!-- Navigation Icons -->
    <symbol id="icon-menu" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" stroke-linecap="round" d="M3 12h18M3 6h18M3 18h18"/>
    </symbol>
    
    <symbol id="icon-close" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" stroke-linecap="round" d="M18 6L6 18M6 6l12 12"/>
    </symbol>
    
    <symbol id="icon-search" viewBox="0 0 24 24">
      <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" fill="none"/>
      <path stroke="currentColor" stroke-width="2" stroke-linecap="round" d="M21 21l-4.35-4.35"/>
    </symbol>
    
    <symbol id="icon-cart" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17M17 13v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6.01"/>
    </symbol>
    
    <symbol id="icon-user" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" fill="none" d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
      <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" fill="none"/>
    </symbol>
    
    <!-- E-commerce Icons -->
    <symbol id="icon-heart" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" fill="none" d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
    </symbol>
    
    <symbol id="icon-star" viewBox="0 0 24 24">
      <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26" stroke="currentColor" stroke-width="2" fill="currentColor"/>
    </symbol>
    
    <symbol id="icon-star-empty" viewBox="0 0 24 24">
      <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26" stroke="currentColor" stroke-width="2" fill="none"/>
    </symbol>
    
    <symbol id="icon-plus" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" stroke-linecap="round" d="M12 5v14M5 12h14"/>
    </symbol>
    
    <symbol id="icon-minus" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" stroke-linecap="round" d="M5 12h14"/>
    </symbol>
    
    <symbol id="icon-trash" viewBox="0 0 24 24">
      <polyline points="3,6 5,6 21,6" stroke="currentColor" stroke-width="2" fill="none"/>
      <path stroke="currentColor" stroke-width="2" fill="none" d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
      <line x1="10" y1="11" x2="10" y2="17" stroke="currentColor" stroke-width="2"/>
      <line x1="14" y1="11" x2="14" y2="17" stroke="currentColor" stroke-width="2"/>
    </symbol>
    
    <!-- Supplement Specific Icons -->
    <symbol id="icon-muscle" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" fill="none" d="M6.5 12c0-1.657 1.343-3 3-3s3 1.343 3 3-1.343 3-3 3-3-1.343-3-3z"/>
      <path stroke="currentColor" stroke-width="2" fill="none" d="M17.5 12c0-1.657 1.343-3 3-3s3 1.343 3 3-1.343 3-3 3-3-1.343-3-3z"/>
      <path stroke="currentColor" stroke-width="2" d="M12.5 6v12"/>
      <path stroke="currentColor" stroke-width="2" d="M9.5 9l6 6"/>
      <path stroke="currentColor" stroke-width="2" d="M15.5 9l-6 6"/>
    </symbol>
    
    <symbol id="icon-energy" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" fill="currentColor" d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
    </symbol>
    
    <symbol id="icon-recovery" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" fill="none" d="M22 12h-4l-3 9L9 3l-3 9H2"/>
    </symbol>
    
    <symbol id="icon-endurance" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
      <polyline points="12,6 12,12 16,14" stroke="currentColor" stroke-width="2" fill="none"/>
    </symbol>
    
    <symbol id="icon-protein" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" fill="none" d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
    </symbol>
    
    <!-- UI Icons -->
    <symbol id="icon-chevron-down" viewBox="0 0 24 24">
      <polyline points="6,9 12,15 18,9" stroke="currentColor" stroke-width="2" fill="none"/>
    </symbol>
    
    <symbol id="icon-chevron-up" viewBox="0 0 24 24">
      <polyline points="18,15 12,9 6,15" stroke="currentColor" stroke-width="2" fill="none"/>
    </symbol>
    
    <symbol id="icon-chevron-left" viewBox="0 0 24 24">
      <polyline points="15,18 9,12 15,6" stroke="currentColor" stroke-width="2" fill="none"/>
    </symbol>
    
    <symbol id="icon-chevron-right" viewBox="0 0 24 24">
      <polyline points="9,18 15,12 9,6" stroke="currentColor" stroke-width="2" fill="none"/>
    </symbol>
    
    <symbol id="icon-check" viewBox="0 0 24 24">
      <polyline points="20,6 9,17 4,12" stroke="currentColor" stroke-width="2" fill="none"/>
    </symbol>
    
    <symbol id="icon-filter" viewBox="0 0 24 24">
      <polygon points="22,3 2,3 10,12.46 10,19 14,21 14,12.46" stroke="currentColor" stroke-width="2" fill="none"/>
    </symbol>
    
    <symbol id="icon-grid" viewBox="0 0 24 24">
      <rect x="3" y="3" width="7" height="7" stroke="currentColor" stroke-width="2" fill="none"/>
      <rect x="14" y="3" width="7" height="7" stroke="currentColor" stroke-width="2" fill="none"/>
      <rect x="14" y="14" width="7" height="7" stroke="currentColor" stroke-width="2" fill="none"/>
      <rect x="3" y="14" width="7" height="7" stroke="currentColor" stroke-width="2" fill="none"/>
    </symbol>
    
    <symbol id="icon-list" viewBox="0 0 24 24">
      <line x1="8" y1="6" x2="21" y2="6" stroke="currentColor" stroke-width="2"/>
      <line x1="8" y1="12" x2="21" y2="12" stroke="currentColor" stroke-width="2"/>
      <line x1="8" y1="18" x2="21" y2="18" stroke="currentColor" stroke-width="2"/>
      <line x1="3" y1="6" x2="3.01" y2="6" stroke="currentColor" stroke-width="2"/>
      <line x1="3" y1="12" x2="3.01" y2="12" stroke="currentColor" stroke-width="2"/>
      <line x1="3" y1="18" x2="3.01" y2="18" stroke="currentColor" stroke-width="2"/>
    </symbol>
    
    <!-- Certification Icons -->
    <symbol id="icon-shield-check" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" fill="none" d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
      <path stroke="currentColor" stroke-width="2" fill="none" d="M9 12l2 2 4-4"/>
    </symbol>
    
    <symbol id="icon-certificate" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
      <path stroke="currentColor" stroke-width="2" fill="none" d="M9 12l2 2 4-4"/>
    </symbol>
    
    <!-- Social Icons -->
    <symbol id="icon-facebook" viewBox="0 0 24 24">
      <path fill="currentColor" d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
    </symbol>
    
    <symbol id="icon-twitter" viewBox="0 0 24 24">
      <path fill="currentColor" d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
    </symbol>
    
    <symbol id="icon-instagram" viewBox="0 0 24 24">
      <rect x="2" y="2" width="20" height="20" rx="5" ry="5" stroke="currentColor" stroke-width="2" fill="none"/>
      <path stroke="currentColor" stroke-width="2" fill="none" d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
      <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" stroke="currentColor" stroke-width="2"/>
    </symbol>
    
    <!-- Default fallback -->
    <symbol id="icon-default" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
      <path stroke="currentColor" stroke-width="2" fill="none" d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
      <line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2"/>
    </symbol>
    
  </defs>
</svg>
{% endif %}